{% extends 'provider/base/base.html' %}
{% load static %}
{% load socialaccount %}

{% block content %}

<div class="page-heading">
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="top-text header-text">
          <h2>Create Event</h2>
        </div>
      </div>
    </div>
  </div>
</div>
<br>
<form method="POST" enctype="multipart/form-data" action="">
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-outline mb-3">
      <label for="{{ form.title.id_for_label }}" class="form-label">{{ form.title.label }}</label>
      {{ form.title }}
      {{ form.title.errors }}
    </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-outline mb-3">
        <label for="{{ form.description.id_for_label }}" class="form-label">{{ form.description.label }}</label>
        {{ form.description }}
        {{ form.description.errors }}
      </div>
      </div>
  </div>
  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-outline mb-3">
      <label for="{{ form.organizer_name.id_for_label }}" class="form-label">{{ form.organizer_name.label }}</label>
      {{ form.organizer_name }}
      {{ form.organizer_name.errors }}
    </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-outline mb-3">
        <label for="{{ form.organizer_email.id_for_label }}" class="form-label">{{ form.organizer_email.label }}</label>
        {{ form.organizer_email }}
        {{ form.organizer_email.errors }}
      </div>
      </div>
      <div class="col-lg-6">
        <div class="input-group input-group-outline mb-3">
          <label for="{{ form.skill_required.id_for_label }}" class="form-label">{{ form.skill_required.label }}</label>
          {{ form.skill_required }}
          {{ form.skill_required.errors }}
        </div>
        </div>
  </div>
  <div class="row">
    <div class="col-lg-6">
      <div class="input-group input-group-static my-3">
        <label for="{{ form.start_date.id_for_label }}" >{{ form.start_date.label }}</label>
        {{ form.start_date }}
        {{ form.start_date.errors }}
      </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-static my-3">
        <label for="{{ form.end_date.id_for_label }}">{{ form.end_date.label }}</label>
        {{ form.end_date }}
        {{ form.end_date.errors }}
      </div>
      </div>
  </div>
  <div class="row">
    <div class="col-lg-3">
    <div class="input-group input-group-outline mb-3">
      <label for="{{ form.country.id_for_label }}" class="form-label">{{ form.country.label }}</label>
      {{ form.country }}
      {{ form.country.errors }}
    </div>
    </div>
    <div class="col-lg-3">
      <div class="input-group input-group-outline mb-3">
        <label for="{{ form.state.id_for_label }}" class="form-label">{{ form.state.label }}</label>
        {{ form.state }}
        {{ form.state.errors }}
      </div>
      </div>
      <div class="col-lg-3">
        <div class="input-group input-group-outline mb-3">
          <label for="{{ form.city.id_for_label }}" class="form-label">{{ form.city.label }}</label>
          {{ form.city }}
          {{ form.city.errors }}
        </div>
        </div>
        <div class="col-lg-3">
          <div class="input-group input-group-outline mb-3">
            <label for="{{ form.address.id_for_label }}" class="form-label">{{ form.address.label }}</label>
            {{ form.address }}
            {{ form.address.errors }}
          </div>
        </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-outline mb-3">
      {{ form.image }}
      {{ form.image.errors }}
    </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-outline mb-3">
        <label for="{{ form.max_volunteers.id_for_label }}" class="form-label">{{ form.max_volunteers.label }}</label>
        {{ form.max_volunteers }}
        {{ form.max_volunteers.errors }}
      </div>
      </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-outline mb-3">
      <label for="{{ form.category_on.id_for_label }}" class="form-label">{{ form.category_on.label }}</label>
      {{ form.category_on }}
      {{ form.category_on.errors }}
    </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-outline mb-3">
        <label for="{{ form.price.id_for_label }}" class="form-label">Entry Fee:</label>
        {{ form.price }}
        {{ form.price.errors }}
      </div>
      </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-static my-3">
      <label for="{{ form.registration_start_date.id_for_label }}">{{ form.registration_start_date.label }}</label>
      {{ form.registration_start_date }}
      {{ form.registration_start_date.errors }}
    </div>
    </div>
    <div class="col-lg-6">
      <div class="input-group input-group-static my-3">
        <label for="{{ form.registration_end_date.id_for_label }}">{{ form.registration_end_date.label }}</label>
        {{ form.registration_end_date }}
        {{ form.registration_end_date.errors }}
      </div>
      </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
    <div class="input-group input-group-static mb-3" >
      <label for="{{ form.skills_required.id_for_label }}" class="form-label">Skills Required</label>
      {{ form.skills_required }}<br>
      <small class="helptext">Seperate with comma (for eg python, c++)</span>
      {{ form.skills_required.errors }}
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-3">
      <div class="text-center">
        <button type="submit" class="btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0">Create</button>
      </div>
    </div>
  </div>
  
</form>
{% endblock %}
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoicmFqcGFybWFyMjMwOCIsImEiOiJjbGd4NG54cGYwNHZlM2VvazVoN3JrZGRhIn0.C2327LvjLc3exgn8DhzKcQ';
    const map = new mapboxgl.Map({
        container: 'map', // container ID
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12', // style URL
        center: [78.9629, 20.5937], // starting position [lng, lat]
        zoom: 9 // starting zoom
    });
    {% for i in locations %}
    var marker = new mapboxgl.Marker()
        .setLngLat([{{i.long}}, {{i.lat}}])
        .setPopup(new mapboxgl.Popup().setHTML(`<b>{{i.location}}</b>`))
        .addTo(map);
    {% endfor %}
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  
  </body>
  </html>